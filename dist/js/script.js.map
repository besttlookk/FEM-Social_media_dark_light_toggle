{"version":3,"sources":["script.js"],"names":["STORAGE_KEY","checkboxEl","document","getElementById","getInitialTheme","storedPrefs","localStorage","getItem","window","matchMedia","matches","toggleSetting","currentSetting","setItem","applySetting","passedSetting","documentElement","setAttribute","checked","addEventListener"],"mappings":"AAAA,aAAA,IAAMA,YAAc,oBACdC,WAAaC,SAASC,eAAe,UAErCC,gBAAkB,WACtB,IAAMC,EAAcC,aAAaC,QAAQP,aAEzC,MAA2B,iBAAhBK,EAAiCA,EAG1BG,OAAOC,WAAW,6BAEtBC,QAAgB,OAGvB,SAIHC,cAAgB,WACpB,IAAIC,EAAiBR,kBAErB,OAAQQ,GACN,IAAK,QACHA,EAAiB,OACjB,MACF,IAAK,OACHA,EAAiB,QAKrB,OAFAN,aAAaO,QAAQb,YAAaY,GAE3BA,GAGHE,aAAe,SAACC,GACpB,IAAIH,EAAiBG,GAAiBX,kBAElCQ,GACFV,SAASc,gBAAgBC,aAAa,aAAcL,GAC7B,UAAnBA,EACFX,WAAWiB,SAAU,EACO,SAAnBN,IACTX,WAAWiB,SAAU,KAGvBhB,SAASc,gBAAgBC,aAAa,aAAc,SACpDhB,WAAWiB,SAAU,IAIzBjB,WAAWkB,iBAAiB,UAAU,WACpCL,aAAaH,oBAIfG","file":"script.js","sourcesContent":["const STORAGE_KEY = \"user-color-scheme\";\nconst checkboxEl = document.getElementById(\"toggle\");\n\nconst getInitialTheme = () => {\n  const storedPrefs = localStorage.getItem(STORAGE_KEY);\n\n  if (typeof storedPrefs === \"string\") return storedPrefs;\n\n  // If no Prefernece stored. Get system preference\n  const userMedia = window.matchMedia(\"prefers-color-scehme:dark\");\n\n  if (userMedia.matches) return \"dark\";\n\n  // If both fails return default theme.. i.e :\"light\"\n  return \"light\";\n};\n\n//  code that toggles the colour mode:\nconst toggleSetting = () => {\n  let currentSetting = getInitialTheme();\n\n  switch (currentSetting) {\n    case \"light\":\n      currentSetting = \"dark\";\n      break;\n    case \"dark\":\n      currentSetting = \"light\";\n      break;\n  }\n  localStorage.setItem(STORAGE_KEY, currentSetting);\n\n  return currentSetting;\n};\n\nconst applySetting = (passedSetting) => {\n  let currentSetting = passedSetting || getInitialTheme();\n\n  if (currentSetting) {\n    document.documentElement.setAttribute(\"data-theme\", currentSetting);\n    if (currentSetting === \"light\") {\n      checkboxEl.checked = false;\n    } else if (currentSetting === \"dark\") {\n      checkboxEl.checked = true;\n    }\n  } else {\n    document.documentElement.setAttribute(\"data-theme\", \"light\");\n    checkboxEl.checked = false;\n  }\n};\n\ncheckboxEl.addEventListener(\"change\", () => {\n  applySetting(toggleSetting());\n});\n\n// We run applySetting() by default to make sure that the userâ€™s preference is applied on page load.\napplySetting();\n"]}